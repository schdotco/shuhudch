<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>KPSP Anak 72 Bulan</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{
  font-family:Arial, sans-serif;
  background:#f4f6f9;
  padding:20px;
}
.card{
  background:#fff;
  padding:20px;
  border-radius:8px;
  max-width:900px;
  margin:auto;
}
h2,h3{margin-top:0}
.field{margin-bottom:12px}
label{font-weight:bold;display:block;margin-bottom:4px}
input[type=text],
input[type=date]{
  width:100%;
  padding:8px;
  border:1px solid #ced4da;
  border-radius:4px;
}
.question{margin-bottom:14px}
.options{
  display:flex;
  gap:24px;
  margin-top:6px;
}
.options label{font-weight:normal}
button{
  margin-top:20px;
  padding:12px 18px;
  background:#0d6efd;
  color:#fff;
  border:none;
  border-radius:4px;
  font-size:15px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="card">
<h2>Kuesioner Pra Skrining Perkembangan (KPSP)</h2>
<h3>Anak Umur 72 Bulan</h3>

<!-- IDENTITAS -->
<div class="field">
  <label>Nama Anak</label>
  <input type="text" id="nama">
</div>

<div class="field">
  <label>NIK Anak</label>
  <input type="text" id="nik" maxlength="16">
</div>

<div class="field">
  <label>Tanggal Lahir</label>
  <input type="date" id="tglLahir">
</div>

<hr>

<!-- PERTANYAAN (TIDAK DIUBAH) -->

<div class="question">
<label>1. Menggambar kotak tanpa dicontohkan
Berikan kepada anak pensil dan kertas. Tunjukkan kepada anak 
contoh gambar di bawah. Tanpa menyebutkan nama dan tanpa 
mencontohkan atau menggerakkan jari telunjuk atau pensil untuk 
menunjukkan bagaimana cara menggambarnya, katakan kepada 
anak “Gambarlah yang seperti gambar ini”. Lihat contoh di bawah 
untuk menilai gambar anak. Dapatkah anak menggambar kotak
seperti contoh di bawah?</label>
<div class="options">
  <label><input type="radio" name="q1" value="Ya"> Ya</label>
  <label><input type="radio" name="q1" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>2. Menggambar orang dengan sedikitnya 6 bagian tubuh
Berikan anak pensil dan kertas lalu katakan kepada anak “Buatlah 
gambar orang” (anak laki-laki, anak perempuan, papa, mama, dll). 
Jangan memberi perintah lebih dari itu. Jangan bertanya atau 
mengingatkan anak bila ada bagian yang belum tergambar. Dalam 
memberi nilai, hitunglah berapa bagian tubuh yang tergambar. 
Untuk bagian tubuh yang berpasangan seperti mata, telinga, lengan
dan kaki, setiap pasang dinilai 1 bagian. Pastikan anak telah 
menyelesaikan gambar sebelum memberikan penilaian. Dapatkah 
anak menggambar orang dengan sedikitnya 6 bagian tubuh?</label>
<div class="options">
  <label><input type="radio" name="q2" value="Ya"> Ya</label>
  <label><input type="radio" name="q2" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>3. Mengetahui konsep analogi berlawanan
Minta anak untuk melengkapi kalimat di bawah ini, jangan 
membantu kecuali mengulang pertanyaan:
“Jika kuda besar, maka tikus...?” Jawaban: kecil
“Jika api panas, maka es...?” Jawaban: dingin
“Jika ibu seorang wanita, maka ayah seorang...” Jawaban: pria, lakilaki
“Jika pagi ada matahari, malam ada...” Jawaban: bulan
Apakah anak menjawab ketiga pertanyaan dengan benar?</label>
<div class="options">
  <label><input type="radio" name="q3" value="Ya"> Ya</label>
  <label><input type="radio" name="q3" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>4. Memahami/mengartikan 7 kata
Pastikan anak mendengar pemeriksa lalu katakan “Saya akan 
mengucapkan 1 kata dan saya ingin kamu menyebutkan apa arti 
kata itu”. Setiap kata dapat diberikan sebanyak 3 kali bila perlu. 
Pemeriksa dapat mengatakan “Beritahu saya sesuatu tentang itu” 
tetapi jangan tanya apa kegunaannya. Tanyalah setiap kata dalam 
satu waktu.
“Apakah bola itu?”
“Apakah sungai itu?”
“Apakah meja itu?”
“Apakah mobil/motor itu?”
“Apakah rumah itu?”
“Apakah pisang itu?”
“Apakah pintu itu?”
“Apakah atap itu?”
Anak dikatakan dapat mengartikan jika anak mengartikan yang 
sesuai dalam istilah: 1) kegunaan, 2) bentuk, 3) terbuat dari apa, 4) 
kategori umum. Dapatkah anak mengartikan 7 kata yang sesuai?</label>
<div class="options">
  <label><input type="radio" name="q4" value="Ya"> Ya</label>
  <label><input type="radio" name="q4" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>5. Mengetahui komposisi benda
Isi titik−titik di bawah ini dengan jawaban anak. Jangan membantu 
kecuali mengulangi pertanyaan sampai 3 kali bila anak 
menanyakannya.
"Sendok dibuat dari apa?" Jawaban: besi, baja, plastik, kayu
"Sepatu dibuat dari apa?" Jawaban: kulit, karet, kain, plastik, kayu
"Pintu dibuat dari apa?" Jawaban: kayu, besi, kaca
Apakah anak dapat menjawab ketiga pertanyaan diatas dengan 
benar?</label>
<div class="options">
  <label><input type="radio" name="q5" value="Ya"> Ya</label>
  <label><input type="radio" name="q5" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>6. Tanyakan kepada orang tua atau pengasuh, apakah anak dapat 
menggosok giginya tanpa bantuan?</label>
<div class="options">
  <label><input type="radio" name="q6" value="Ya"> Ya</label>
  <label><input type="radio" name="q6" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>7. Tanyakan kepada orang tua atau pengasuh, apakah anak dapat 
menyiapkan dan mengambil makanan tanpa bantuan, termasuk 
menggunakan mangkok, sendok, menuangkan makanan dan susu ke 
mangkok tanpa banyak tumpah? Jawab ‘Ya’ jika anak dapat 
melakukannya, termasuk menuangkan susu dari beberapa jenis 
kotak atau wadah makanan.</label>
<div class="options">
  <label><input type="radio" name="q7" value="Ya"> Ya</label>
  <label><input type="radio" name="q7" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>8. Apakah anak dapat menangkap bola kecil sebesar bola tenis atau 
bola kasti hanya dengan menggunakan kedua tangannya?</label>
<div class="options">
  <label><input type="radio" name="q8" value="Ya"> Ya</label>
  <label><input type="radio" name="q8" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>9. Tunjukkan kepada anak bagaimana cara berjalan di garis lurus 
dengan menempatkan tumit dari 1 kaki di depan jari kaki lain. 
Berjalanlah 8 langkah, lalu minta anak untuk melakukannya. Berikan 
contoh dan kesempatan sebanyak 3 kali bila perlu. Dapatkah anak 
melakukannya sebanyak 4 langkah atau lebih dengan meletakkan 
tumit tidak lebih dari 2,5 cm dari jari kaki lain tanpa berpegangan?</label>
<div class="options">
  <label><input type="radio" name="q9" value="Ya"> Ya</label>
  <label><input type="radio" name="q9" value="Tidak"> Tidak</label>
</div>
</div>

<div class="question">
<label>10. Minta anak untuk berdiri 1 kaki tanpa berpegangan. Jika perlu 
tunjukkan caranya dan beri anak kesempatan sebanyak 3 kali. 
Dapatkah ia mempertahankan keseimbangan dalam waktu 11 detik 
atau lebih?</label>
<div class="options">
  <label><input type="radio" name="q10" value="Ya"> Ya</label>
  <label><input type="radio" name="q10" value="Tidak"> Tidak</label>
</div>
</div>

<button onclick="simpan()">Simpan KPSP 72 Bulan</button>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBk57WWCAV9PbUQBb_bj7mPtl09oNz7WnA",
  authDomain: "schesakra.firebaseapp.com",
  databaseURL: "https://schesakra-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "schesakra",
  storageBucket: "schesakra.firebasestorage.app",
  messagingSenderId: "672537227977",
  appId: "1:672537227977:web:88b24f905c86eba7c05318"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function valRadio(n){
  const r = document.querySelector(`input[name="${n}"]:checked`);
  return r ? r.value : "";
}

function simpan(){

  /* ================= VALIDASI IDENTITAS ================= */
  if(!nama.value.trim()){
    alert("Nama anak wajib diisi");
    nama.focus();
    return;
  }

  if(!nik.value.trim() || nik.value.length !== 16){
    alert("NIK wajib diisi 16 digit");
    nik.focus();
    return;
  }

  if(!tglLahir.value){
    alert("Tanggal lahir wajib diisi");
    tglLahir.focus();
    return;
  }

  /* ================= VALIDASI PERTANYAAN ================= */
  for(let i=1;i<=10;i++){
    if(valRadio(`q${i}`) === ""){
      alert(`Pertanyaan nomor ${i} belum dijawab`);
      return;
    }
  }

  /* ================= SIMPAN KE FIREBASE ================= */
  const data = {
    nama: nama.value.trim(),
    nik: nik.value.trim(),
    tanggal_lahir: tglLahir.value,
    usia: 72,
    jawaban:{
      q1: valRadio("q1"),
      q2: valRadio("q2"),
      q3: valRadio("q3"),
      q4: valRadio("q4"),
      q5: valRadio("q5"),
      q6: valRadio("q6"),
      q7: valRadio("q7"),
      q8: valRadio("q8"),
      q9: valRadio("q9"),
      q10: valRadio("q10")
    },
    timestamp: Date.now()
  };

  db.ref("kpsp_respon").push(data)
    .then(()=>{
      alert("Data KPSP 72 bulan berhasil disimpan");
      location.href="index.html";
    })
    .catch(err=>alert(err.message));
}
</script>

</body>
</html>
